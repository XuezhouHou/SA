% !TeX spellcheck = en_US
\chapter{State of the art}%
This chapter presents the state-of-the-art approaches on various topics 
discussed 
in this article, including \gls{mas}, \gls{dt}, network latency, 
and \gls{dsl} as a system modularization method. The article aims to 
design a program to fulfill the real-time communication requirements 
of specific use cases, in addition to studying the timing behaviors. 
It builds on the works of leading researchers in the field.

\section{MAS}

Within the subfields of \gls{mas}, an agent can be identified as a 
software agent with no physical embodiment but only software to control 
physical assets for different purposes. \textit{"In agent-oriented software 
development, an agent is a delineable software unit with a defined goal. 
An agent tries to achieve this goal through autonomous behavior, 
continuously interacting with its environment and other agents"}\cite{wagner_agentenunterstutztes_2008}. 
However, although not under discussion in this thesis, another 
interpretation of \gls{mas} can be a Multi-agent robot system that 
each agent represents an actual physical object such as an individual 
robot that participates in the complex task execution\cite{ota_multi-agent_2006}.   


Defining \gls{mas} can be confusing, as different researchers approach 
it from various angles. For a more unambiguous interpretation of the 
concept, a general \gls{mas} can be divided into three views: the 
technical system that comprises robots, the automation control system 
characterized by sensors, actuators, networks, and robot control units, 
and the technical process that describes the production process of the 
product\cite{lauber_prozessautomatisierung_1999}\cite{wannagat_agent_nodate}. 
The focus of this thesis is mainly on the technical system, which can 
be interpreted as a union of robots in a smart factory, with less 
emphasis on the components or functions executed by each robot for 
a specific movement.

For further discretization of an agent, whether the agent is product, 
process, or resource-oriented, an appropriate agent architecture should 
be chosen according to different considerations. There are several of 
them that should be emphasized: \gls{ra}, \gls{ca}, and \gls{ams}. 
\gls{ra} is an agent at the field level representing a single robot. 
Different from the other agents, \gls{ra} should be able to combine 
the modules with physical entities by choosing an appropriate design 
pattern. Therefore, comparing design patterns in different production 
levels is done\cite{ocker_leveraging_2021}. The choice of an ideal 
design pattern should be limited for \gls{ra} in this research by 
comparing three relevant design patterns:  \gls{ra} pattern in Wannagat’s 
architecture, \gls{mfs} patterns in Fischer’s architecture self*-control 
MAS in Ryashentseva’s architecture. Among all,  Wannagat’s architecture 
is chosen as the appropriate design pattern for \gls{ra} for field level 
control, which consists of five modules: Planning Module, Knowledge Base, 
Control Module, Diagnosis Module, and communication interface. 
All modules are interconnected, meanwhile, with each connected to 
I/Os of a physical system and a communication interface to interact 
with other \gls{ras} or \gls{ams} through \gls{ca} \cite{cruz_salazar_cyber-physical_2019}. 
\gls{ams} and \gls{ca} should have different specifications in the 
same design pattern. \gls{ca}, for example, should be able to coordinate 
the message-based communication between the agents as a "mailbox" 
between them. In contrast, \gls{ams} plays an important role in the 
centralization and coordination of all other agents \cite{wannagat_entwicklung_2010}. 




\section{Network communication}
According to early studies on network delays, the \gls{rtt} and \gls{owd} 
can either be measured by end-to-end methods or estimated with modeling 
approaches. Experiments have led to the consideration that \gls{tcp}-based 
measurements offer a practical solution for evaluating the movement of 
packets from end to end, along with a high packet retransmission rate 
to avoid packet loss\cite{paxson_end--end_1999}. Benefits from 
the development of the internet latency test tools, \gls{tcp} delay 
performance can be evaluated by one of them. Wireshark, for example, is famous 
for capturing network delay in transport layer, where \gls{tcp} delay 
can be filtered in real time\cite{dsouza_transmission_2020}. Besides, 
application and presentation layer delays can also be measured by Wireshark and 
other Program 
specific profiling tools\cite{heger_application_2017}. Furthermore, 
traceroute or ping can be ultilized 
for network layer delay collections along with the router logs\cite{Deri2003}. 
Finally, it will be challenging to measure 
data link and physical layer delays, which can be either tracked by hardware 
such as \gls{nic}, or calculated based on the characteristics 
of the physical medium. The work of \cite{Fezeu2023} for example, 
presents a comprehensive 
in-depth measurement study of mmWave 5G latency performance on the physical layer 
based on a commercial 5G tool.   
Certainly, there are also other tools designed for research for a more 
precise and academic-oriented purpose. In the work of performance testing 
of a 5G campus network, \gls{ftt} designed by ifak Magdeburg was used 
for performance analysis of industrial communication networks\cite{cainelli_performance_2023}, 
with its results later compared with those in this article.


On top of the measured delay 
that includes additional connection establishment and process time, 
models can be built additionally to estimate delays over different layers in 
\gls{osi} model, to bridge the gap between experiments and simulations. 
Studies including those for instance the modeling of \gls{tcp}-based 
packet transmission latency that enables both short and 
long \gls{tcp} flows\cite{luan_estimating_2019}. In the book \cite{wehrle2010modeling}, 
both lower and higher layer wireless modeling tools and methods are introduced. 
Accordingly, common tools and methods for network simulation are: ns-3 Network Simulator, OMNeT++, 
IKR simulation Library and Open WNS. For the lower layer modeling, accurate simulation 
of physical layers can be operated, with the packet domain physical layer simulation 
model given as an example. Another lower layer modeling approach should be focused on 
link layers, including \gls{mac} and logical link control. As for the higher layer 
modeling, modeling of the network layer and routing protocols, modeling 
transport layer protocols and the modeling of application traffics are described. 
The combination of lower and higher layers results in the discrete modeling 
of the \gls{osi} model, with their performances tested in different use cases. 




By comparing both estimated and measured delays, a number of insightful 
conclusions made and the corresonding actions can be taken to improve 
the network design.
In the related work for delay measurement of \gls{mas}, 
a comparison between actual and modeling 
delays has been performed\cite{vogel-heuser_delay_2023}, which leads to the 
consideration of integrating \gls{dsl} as further development methods.





\section{\gls{dsl}}
To analyze and optimize the network communication performance, a deeper 
inspection of the network latency is needed. \gls{dsl} has, so far, reached 
some improvements in simplifying the design, presentation, and execution of 
network performance testing for many applications, including server-client applications 
based on hand-coded C, which minimizes the overhead produced by the compiler by 
comparing C and the designed \gls{dsl} based toolset under worst-case scenarios.
A level higher will be the agent-based \gls{dsl} that also includes network-based 
agent communication. The consideration of designing a \gls{dsl} framework 
for agent development has been discussed\cite{judith_domain_2013}. Another 
research for fulfilling real-time requirements for safety-critical and 
security-critical engineering has also adapted the \gls{dsl}, which aims to 
modularize the whole \gls{iot} system into a four-level architecture\cite{sklyar_domain_2022}. 



Another notable field for \gls{dsl} is the robotics. Unlike being widely 
used in industrial automation for modeling hard real-time constraints with 
a set of symbols that capture delays from networks and devices, I/O interfaces, 
and industrial controllers\cite{hujo_toward_2022}, \gls{dsl} for robotics is still 
under development due to its higher level of complexity and flexibility in 
robot control. The \gls{dsl} based visualization tools are mostly developed 
to be applied to an open-source robotics middleware suite such as \gls{ros}. 
For example, \gls{rviz} is a \gls{dsl} based 3D 
visualization tool for \gls{ros} that can visualize the robot model and 
capture sensor/actuator information. Movelt, also designed for \gls{ros}, 
provides a set of visual notations that represent the robot kinematics, 
motion planning, and many more. It also allows users to capture the 
timing behaviors of the bounding I/Os. Other middleware tools have been 
developed, but most are hardware and software-dependent. RobotML, a 
Robotic Modeling Language, is designed for cross-platform robotic 
software development\cite{hutchison_robotml_2012}. It is developed 
based on Port and Connector to
capture the concept of an interaction between robot systems, including 
Robot, SensorSystem, ActuatorSystem, and LocalizationSystem, with its toolchain 
provided\cite[fig.5]{hutchison_robotml_2012}.



\section{\gls{dt}}


Apart from the agents that are responsible for internal production 
processes, \gls{dta} plays a crucial part in collecting data from the 
production and storing it externally to create a digital replica of the 
physical entities or systems. As described in section \ref{chap: Motivation}, 
\gls{dt} is a digital mapping of physical entities. Former work for this 
project has already provided a foundation for the \gls{dt} 
structure\cite{hofgen_architecture_2023}. 
The work mainly focuses on the realization of an \gls{aas} based \gls{dt} system, 
with an automated \gls{dt} creation and socket-based communication between 
different layers from the \gls{dt} architecture reference 
model\cite[fig.5]{aheleroff_digital_2021}. 




\section{Research gap}

According to current research, there are various implementations of \gls{mas} in 
different fields. However, there have been limited efforts to standardize and 
modularize the \gls{mas}. In addition, a cloud-based resource digitization should also 
be considered and implemented in the \gls{mas}. In general, the \gls{mas} should be designed 
with a high level of modularization based on \gls{dsl}.

